{"code":"(this.webpackJsonpStrangersThings=this.webpackJsonpStrangersThings||[]).push([[0],{31:function(e,t,n){\"use strict\";n.r(t);var r=n(1),c=n(18),s=n.n(c),o=n(5),a=n(3),i=n(2),u=n.n(i),l=n(7),j=n(4),b=\"https://strangers-things.herokuapp.com/api/2104-ECE-RM-WEB-PT/\",d=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r,c,s,o,a,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,r=t.method,c=t.token,s=t.body,console.log(\"callApi: \",{url:n,method:r,token:c,body:s}),e.prev=2,o={method:r?r.toUpperCase():\"GET\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(s)},c&&(o.headers.Authorization=\"Bearer \".concat(c)),console.log(\"request URL: \",b+n),e.next=8,fetch(b+n,o);case 8:return a=e.sent,console.log(a),e.next=12,a.json();case 12:if(i=e.sent,console.log(\"data: \",i),!i.error){e.next=16;break}throw i.error;case 16:return e.abrupt(\"return\",i);case 19:e.prev=19,e.t0=e.catch(2),console.error(\"ERROR: \",e.t0);case 22:case\"end\":return e.stop()}}),e,null,[[2,19]])})));return function(t){return e.apply(this,arguments)}}(),p=n(0),h=function(e){var t=e.token,n=e.postID,c=Object(r.useState)(\"\"),s=Object(a.a)(c,2),o=s[0],i=s[1],j=function(){var e=Object(l.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,d({url:\"posts/\".concat(n,\"/messages\"),method:\"POST\",body:{message:{content:o}},token:t});case 3:e.sent,i(\"\");case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(\"form\",{onSubmit:j,children:[Object(p.jsx)(\"input\",{type:\"text\",placeholder:\"Type Message Here\",required:!0,value:o,onChange:function(e){return i(e.target.value)}}),Object(p.jsx)(\"button\",{type:\"submit\",children:\"Send Message\"})]})})},O=function(e){var t,n=e.posts,r=e.post,c=e.token,s=Object(j.f)().postId,a=Object(j.e)();if(0===n.length)return null;t=r||n.find((function(e){return s===e._id}));var i=function(){var e=Object(l.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,d({url:\"/posts/\".concat(t._id),method:\"DELETE\",token:c});case 3:e.sent,a.push(\"/posts\"),window.location.reload();case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return console.log(\"post\",t),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(\"h2\",{children:Object(p.jsx)(\"u\",{children:t.title})}),t.author.username?Object(p.jsxs)(\"div\",{children:[Object(p.jsx)(\"b\",{style:{fontSize:\"23px\"},children:\"Submitted by:\"}),\" \",t.author.username]}):null,Object(p.jsxs)(\"div\",{children:[Object(p.jsx)(\"b\",{style:{fontSize:\"23px\"},children:\"Description:\"}),\" \",t.description]}),Object(p.jsxs)(\"div\",{children:[Object(p.jsx)(\"b\",{style:{fontSize:\"23px\"},children:\"Price:\"}),\" \",t.price]}),Object(p.jsxs)(\"div\",{children:[Object(p.jsx)(\"b\",{style:{fontSize:\"23px\"},children:\"Location:\"}),\" \",t.location]}),Object(p.jsxs)(\"div\",{children:[Object(p.jsx)(\"b\",{style:{fontSize:\"23px\"},children:\"Delivers:\"}),\" \",t.willDeliver?\"Yes\":\"No\"]}),r?null:Object(p.jsx)(o.b,{to:\"/posts\",children:\"Back to all posts\"}),t.isAuthor?Object(p.jsxs)(p.Fragment,{children:[t.messages.map((function(e){return Object(p.jsxs)(\"div\",{children:[Object(p.jsxs)(\"div\",{children:[Object(p.jsx)(\"b\",{style:{fontSize:\"23px\"},children:\"Sender:\"}),\" \",e.fromUser.username,\" \"]}),Object(p.jsxs)(\"div\",{children:[Object(p.jsx)(\"b\",{style:{fontSize:\"23px\"},children:\"Message:\"}),\" \",e.content]})]})})),Object(p.jsx)(\"button\",{children:Object(p.jsx)(o.b,{to:\"/EditPost/\"+t._id,children:\"Edit Post\"})}),Object(p.jsx)(\"button\",{onClick:i,children:\"Delete Post\"})]}):Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(h,{postID:t._id,token:c})})]})},x={searchContainer:{display:\"flex\",justifyContent:\"center\",padding:\"16px\",alignItems:\"center\"},searchInput:{margin:\"0 16px\"}},f=function(e){var t=e.posts,n=Object(r.useState)(\"\"),c=Object(a.a)(n,2),s=c[0],i=c[1],u=s.length>0?t.filter((function(e){return function(e,t){for(var n=t.toLowerCase(),r=0,c=[e.description,e.location,e.title,e.author.username,e.price];r<c.length;r++)if(c[r].toLowerCase().includes(n))return!0;return!1}(e,s)})):t;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(\"b\",{style:{fontSize:\"28px\"},children:Object(p.jsx)(\"h2\",{children:\"Posts\"})}),Object(p.jsx)(\"div\",{style:x.searchContainer,children:Object(p.jsx)(\"input\",{type:\"text\",placeholder:\"Search Post\",style:x.searchInput,value:s,onChange:function(e){i(e.target.value)}})}),u.map((function(e){return Object(p.jsxs)(\"div\",{style:{border:\"1px solid black\"},children:[Object(p.jsx)(O,{posts:t,post:e}),Object(p.jsx)(\"button\",{children:Object(p.jsx)(o.b,{to:\"/posts/\".concat(e._id),children:\"View Post\"})})]},e._id)}))]})},g=function(e){var t=e.token,n=Object(j.e)(),c=Object(r.useState)(\"\"),s=Object(a.a)(c,2),i=s[0],b=s[1],h=Object(r.useState)(\"\"),O=Object(a.a)(h,2),x=O[0],f=O[1],g=Object(r.useState)(\"\"),v=Object(a.a)(g,2),m=v[0],y=v[1],k=Object(r.useState)(\"On Request\"),w=Object(a.a)(k,2),S=w[0],C=w[1],P=Object(r.useState)(!1),T=Object(a.a)(P,2),D=T[0],E=T[1],F=function(){var e=Object(l.a)(u.a.mark((function e(r){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,d({url:\"/posts\",method:\"POST\",body:{post:{title:i,description:x,price:m,location:S,willDeliver:D}},token:t});case 3:c=e.sent,n.push(\"/posts\"),window.location.reload(),console.log(c);case 7:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(\"h2\",{children:\"Create New Post\"}),Object(p.jsxs)(\"form\",{onSubmit:F,children:[Object(p.jsxs)(\"div\",{id:\"TextField\",children:[Object(p.jsx)(\"input\",{type:\"text\",placeholder:\"Title\",value:i,onChange:function(e){return b(e.target.value)}}),Object(p.jsx)(\"input\",{type:\"text\",placeholder:\"Description\",value:x,onChange:function(e){return f(e.target.value)}}),Object(p.jsx)(\"input\",{type:\"text\",placeholder:\"Price\",value:m,onChange:function(e){return y(e.target.value)}}),Object(p.jsx)(\"input\",{type:\"text\",placeholder:\"Location\",value:S,onChange:function(e){return C(e.target.value)}}),Object(p.jsx)(\"input\",{type:\"checkbox\",value:D,onChange:function(e){return E(e.target.value)}})]}),Object(p.jsx)(\"button\",{type:\"submit\",children:\"Post!\"})]}),Object(p.jsx)(\"button\",{children:Object(p.jsx)(o.b,{to:\"/\",children:\"Home\"})})]})},v=function(e){var t=e.token,n=e.posts,c=Object(j.e)(),s=Object(j.f)().postId;if(0===n.length)return null;var i=n.find((function(e){return s===e._id}));console.log(\"EditPosts\",n),console.log(\"EditPosts\",s);var b=Object(r.useState)(i.title),h=Object(a.a)(b,2),O=h[0],x=h[1],f=Object(r.useState)(i.description),g=Object(a.a)(f,2),v=g[0],m=g[1],y=Object(r.useState)(i.price),k=Object(a.a)(y,2),w=k[0],S=k[1],C=Object(r.useState)(i.location),P=Object(a.a)(C,2),T=P[0],D=P[1],E=Object(r.useState)(i.willDeliver),F=Object(a.a)(E,2),I=F[0],L=F[1],_=function(){var e=Object(l.a)(u.a.mark((function e(n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,d({url:\"/posts/\".concat(i._id),method:\"PATCH\",body:{post:{title:O,description:v,price:w,location:T,willDeliver:I}},token:t});case 3:r=e.sent,c.push(\"/posts\"),window.location.reload(),console.log(r);case 7:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(\"h2\",{children:\"Edit Post\"}),Object(p.jsxs)(\"form\",{onSubmit:_,children:[Object(p.jsxs)(\"div\",{id:\"TextField\",children:[Object(p.jsx)(\"input\",{type:\"text\",placeholder:\"Title\",value:O,onChange:function(e){return x(e.target.value)}}),Object(p.jsx)(\"input\",{type:\"text\",placeholder:\"Description\",value:v,onChange:function(e){return m(e.target.value)}}),Object(p.jsx)(\"input\",{type:\"text\",placeholder:\"Price\",value:w,onChange:function(e){return S(e.target.value)}}),Object(p.jsx)(\"input\",{type:\"text\",placeholder:\"Location\",value:T,onChange:function(e){return D(e.target.value)}}),Object(p.jsx)(\"input\",{type:\"checkbox\",value:I,onChange:function(e){return L(e.target.value)}})]}),Object(p.jsx)(\"button\",{type:\"submit\",children:\"Sumbit Edit\"})]}),Object(p.jsx)(\"button\",{children:Object(p.jsx)(o.b,{to:\"/\",children:\"Home\"})})]})},m=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d({url:\"/users/me\",token:t});case 2:return n=e.sent,r=n.data,e.abrupt(\"return\",r);case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d({url:\"/posts\",token:t});case 2:return n=e.sent,r=n.data.posts,e.abrupt(\"return\",r);case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(r.useState)(\"\"),t=Object(a.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)({}),i=Object(a.a)(s,2),b=i[0],d=i[1],h=Object(r.useState)([]),x=Object(a.a)(h,2),k=x[0],S=x[1],C=void 0!==b.username,P=function(){localStorage.removeItem(\"st-token\"),c(\"\"),d({})};return Object(r.useEffect)(Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==k.length){e.next=5;break}return e.next=3,y(n);case 3:t=e.sent,S(t);case 5:case\"end\":return e.stop()}}),e)})))),Object(r.useEffect)(Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return c(localStorage.getItem(\"st-token\")),e.abrupt(\"return\");case 3:return e.next=5,m(n);case 5:t=e.sent,d(t);case 7:case\"end\":return e.stop()}}),e)}))),[n]),console.log(\"userData\",b),console.log(\"isLoggedIn\",C),Object(p.jsxs)(p.Fragment,{children:[C?\"\":Object(p.jsxs)(\"h1\",{children:[\"Welcome! \",Object(p.jsx)(\"br\",{}),\"Please \",Object(p.jsx)(\"a\",{href:\"/login\",children:\" sign in\"}),\" or \",Object(p.jsx)(\"a\",{href:\"/register\",children:\"create an account\"}),\".\"]}),Object(p.jsxs)(j.a,{exact:!0,path:\"/\",children:[C?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(\"div\",{id:\"Greeting\",children:[\"Hello, \",b.username]}),Object(p.jsx)(\"button\",{onClick:P,children:\"Log Out\"}),Object(p.jsx)(\"button\",{children:Object(p.jsx)(o.b,{to:\"/CreatePost\",children:\"Create A New Post\"})})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(\"button\",{children:Object(p.jsx)(o.b,{to:\"/register\",children:\"Register\"})}),Object(p.jsx)(\"button\",{children:Object(p.jsx)(o.b,{to:\"/login\",children:\"Login\"})})]}),Object(p.jsx)(\"button\",{children:Object(p.jsx)(o.b,{to:\"/posts\",children:\"View All Posts\"})}),C?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(\"h1\",{children:\"My Messages\"}),b.messages.map((function(e){return e.fromUser._id===b._id?Object(p.jsxs)(\"div\",{children:[Object(p.jsxs)(\"div\",{children:[\"Sender: \",e.fromUser.username,\" \"]}),Object(p.jsxs)(\"div\",{children:[\"Message: \",e.content]})]},e._id):null}))]}):null,C?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(\"h1\",{children:\"My Posts\"}),b.posts.map((function(e){return Object(p.jsx)(O,{post:e,token:n,posts:k})}))]}):null]}),Object(p.jsxs)(j.a,{exact:!0,path:\"/posts\",children:[Object(p.jsxs)(\"button\",{children:[\" \",Object(p.jsx)(o.b,{to:\"/\",children:\"Home\"})]}),Object(p.jsxs)(\"button\",{children:[\" \",Object(p.jsx)(o.b,{to:\"/CreatePost\",children:\"Create New Post\"})]}),C?Object(p.jsx)(\"button\",{onClick:P,children:\"Log Out\"}):null,Object(p.jsx)(\"h1\",{children:\"Below are all recent posts\"}),Object(p.jsx)(f,{posts:k,token:n})]}),Object(p.jsx)(j.a,{path:\"/posts/:postId\",children:Object(p.jsx)(O,{posts:k})}),Object(p.jsx)(j.a,{path:\"/register\",children:Object(p.jsx)(w,{action:\"register\",setToken:c})}),Object(p.jsx)(j.a,{path:\"/login\",children:Object(p.jsx)(w,{action:\"login\",setToken:c})}),Object(p.jsx)(j.a,{path:\"/CreatePost\",children:Object(p.jsx)(g,{action:\"post\",token:n})}),Object(p.jsx)(j.a,{path:\"/EditPost/:postId\",children:Object(p.jsx)(v,{posts:k,token:n})})]})},w=function(e){var t=e.setToken,n=e.action,c=Object(r.useState)(\"\"),s=Object(a.a)(c,2),i=s[0],b=s[1],h=Object(r.useState)(\"\"),O=Object(a.a)(h,2),x=O[0],f=O[1],g=\"login\"===n,v=g?\"Login\":\"Register\",m=g?\"register\":\"login\",y=g?\"Register\":\"Login\",k=Object(j.e)(),w=function(){var e=Object(l.a)(u.a.mark((function e(r){var c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,d({url:\"users/\".concat(n),body:{user:{username:i,password:x}},method:\"POST\"});case 3:if(c=e.sent,e.prev=4,!(s=c.data.token)){e.next=11;break}return localStorage.setItem(\"st-token\",s),t(s),k.push(\"/\"),e.abrupt(\"return\",s);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),window.alert(\"Wrong Username or Password!\");case 16:case\"end\":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(\"h2\",{children:v}),Object(p.jsxs)(\"form\",{onSubmit:w,children:[Object(p.jsx)(\"input\",{type:\"text\",placeholder:\"username\",required:!0,value:i,onChange:function(e){return b(e.target.value)}}),Object(p.jsxs)(\"div\",{id:\"TextField\",children:[Object(p.jsx)(\"input\",{type:\"password\",placeholder:\"password\",value:x,onChange:function(e){return f(e.target.value)}}),Object(p.jsx)(\"button\",{type:\"submit\",children:v})]})]}),Object(p.jsx)(\"button\",{children:Object(p.jsx)(o.b,{to:\"/\".concat(m),children:y})}),Object(p.jsx)(\"button\",{children:Object(p.jsx)(o.b,{to:\"/\",children:\"Home\"})})]})};s.a.render(Object(p.jsx)(o.a,{children:Object(p.jsx)(k,{})}),document.querySelector(\"#app\"))}},[[31,1,2]]]);","name":"static/js/main.dd68c37b.chunk.js","map":{"version":3,"sources":["static/js/main.dd68c37b.chunk.js"],"names":["this","push","module","__webpack_exports__","__webpack_require__","r","react","react_dom","react_dom_default","n","react_router_dom","slicedToArray","regenerator","regenerator_default","asyncToGenerator","react_router","API_URL","BASE_URL","callApi","_ref2","Object","a","mark","_callee","_ref","url","method","token","body","options","response","data","wrap","_context","prev","next","console","log","toUpperCase","headers","JSON","stringify","concat","fetch","sent","json","error","abrupt","t0","stop","_x","apply","arguments","jsx_runtime","components_MessageForm","postID","_useState","_useState2","writeMessage","setWriteMessage","SendMessage","event","preventDefault","message","content","children","onSubmit","type","placeholder","required","value","onChange","target","components_Post","postToRender","posts","post","postId","history","length","find","_id","onDelete","window","location","reload","title","author","username","style","fontSize","description","price","willDeliver","to","isAuthor","messages","map","fromUser","onClick","styles","searchContainer","display","justifyContent","padding","alignItems","searchInput","margin","components_Posts","searchQuery","updateSearchQuery","postsToDisplay","filter","searchTerm","searchTermLower","toLowerCase","_i","_toMatch","includes","postMatches","border","components_CreatePost","setTitle","_useState3","_useState4","setDescription","_useState5","_useState6","setPrice","_useState7","_useState8","setLocation","_useState9","_useState10","setWillDeliver","handleSubmit","id","components_EditPost","fetchUserData","_yield$callApi","fetchPosts","_callee2","_yield$callApi2","_context2","_x2","components_App","setToken","userData","setUserData","setPosts","isLoggedIn","undefined","onLogOutClick","localStorage","removeItem","_callee3","fetchedPosts","_context3","_callee4","_context4","getItem","href","exact","path","components_Register","action","setUsername","password","setPassword","isLogin","oppositeAction","oppositeTitle","user","setItem","alert","render","document","querySelector"],"mappings":"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"},"input":"(this[\"webpackJsonpStrangersThings\"] = this[\"webpackJsonpStrangersThings\"] || []).push([[0],{\n\n/***/ 31:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(18);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(2);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(4);\n\n// CONCATENATED MODULE: ./src/api/index.js\nvar BASE_URL='https://strangers-things.herokuapp.com/api/';var COHORT_NAME='2104-ECE-RM-WEB-PT/';var API_URL=BASE_URL+COHORT_NAME;var callApi=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(_ref){var url,method,token,body,options,response,data;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=_ref.url,method=_ref.method,token=_ref.token,body=_ref.body;console.log('callApi: ',{url:url,method:method,token:token,body:body});_context.prev=2;options={method:method?method.toUpperCase():'GET',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)};if(token){options.headers['Authorization']=\"Bearer \".concat(token);}console.log('request URL: ',API_URL+url);_context.next=8;return fetch(API_URL+url,options);case 8:response=_context.sent;console.log(response);_context.next=12;return response.json();case 12:data=_context.sent;console.log('data: ',data);if(!data.error){_context.next=16;break;}throw data.error;case 16:return _context.abrupt(\"return\",data);case 19:_context.prev=19;_context.t0=_context[\"catch\"](2);console.error('ERROR: ',_context.t0);case 22:case\"end\":return _context.stop();}}},_callee,null,[[2,19]]);}));return function callApi(_x){return _ref2.apply(this,arguments);};}();\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/MessageForm.js\nvar MessageForm_MessageForm=function MessageForm(_ref){var token=_ref.token,postID=_ref.postID;var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),writeMessage=_useState2[0],setWriteMessage=_useState2[1];var SendMessage=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){var data;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return callApi({url:\"posts/\".concat(postID,\"/messages\"),method:'POST',body:{message:{content:writeMessage}},token:token});case 3:data=_context.sent;setWriteMessage(\"\");case 5:case\"end\":return _context.stop();}}},_callee);}));return function SendMessage(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:SendMessage,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"Type Message Here\",required:true,value:writeMessage,onChange:function onChange(event){return setWriteMessage(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Send Message\"})]})});};/* harmony default export */ var components_MessageForm = (MessageForm_MessageForm);\n// CONCATENATED MODULE: ./src/components/Post.js\nvar Post_Post=function Post(_ref){var posts=_ref.posts,post=_ref.post,token=_ref.token;var _useParams=Object(react_router[\"f\" /* useParams */])(),postId=_useParams.postId;var history=Object(react_router[\"e\" /* useHistory */])();if(posts.length===0)return null;var postToRender;if(post){postToRender=post;}else{postToRender=posts.find(function(post){return postId===post._id;});}var onDelete=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){var data;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return callApi({url:\"/posts/\".concat(postToRender._id),method:'DELETE',token:token});case 3:data=_context.sent;history.push('/posts');window.location.reload();case 6:case\"end\":return _context.stop();}}},_callee);}));return function onDelete(_x){return _ref2.apply(this,arguments);};}();console.log(\"post\",postToRender);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"u\",{children:postToRender.title})}),postToRender.author.username?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{style:{fontSize:\"23px\"},children:\"Submitted by:\"}),\" \",postToRender.author.username]}):null,/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{style:{fontSize:\"23px\"},children:\"Description:\"}),\" \",postToRender.description]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{style:{fontSize:\"23px\"},children:\"Price:\"}),\" \",postToRender.price]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{style:{fontSize:\"23px\"},children:\"Location:\"}),\" \",postToRender.location]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{style:{fontSize:\"23px\"},children:\"Delivers:\"}),\" \",postToRender.willDeliver?'Yes':'No']}),!post?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/posts\",children:\"Back to all posts\"}):null,postToRender.isAuthor?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[postToRender.messages.map(function(message){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{style:{fontSize:\"23px\"},children:\"Sender:\"}),\" \",message.fromUser.username,\" \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{style:{fontSize:\"23px\"},children:\"Message:\"}),\" \",message.content]})]});}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/EditPost/\"+postToRender._id,children:\"Edit Post\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:onDelete,children:\"Delete Post\"})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_MessageForm,{postID:postToRender._id,token:token})})]});};/* harmony default export */ var components_Post = (Post_Post);\n// CONCATENATED MODULE: ./src/components/Posts.js\nvar styles={searchContainer:{display:'flex',justifyContent:'center',padding:'16px',alignItems:'center'},searchInput:{margin:'0 16px'}};var postMatches=function postMatches(post,searchTerm){var searchTermLower=searchTerm.toLowerCase();var description=post.description,location=post.location,title=post.title,username=post.author.username,price=post.price;var toMatch=[description,location,title,username,price];for(var _i=0,_toMatch=toMatch;_i<_toMatch.length;_i++){var field=_toMatch[_i];if(field.toLowerCase().includes(searchTermLower)){return true;}}return false;};var Posts_Posts=function Posts(_ref){var posts=_ref.posts;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),searchQuery=_useState2[0],updateSearchQuery=_useState2[1];var postsToDisplay=searchQuery.length>0?posts.filter(function(post){return postMatches(post,searchQuery);}):posts;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{style:{fontSize:\"28px\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Posts\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:styles.searchContainer,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"Search Post\",style:styles.searchInput,value:searchQuery,onChange:function onChange(event){updateSearchQuery(event.target.value);}})}),postsToDisplay.map(function(post){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{border:'1px solid black'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Post,{posts:posts,post:post}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/posts/\".concat(post._id),children:\"View Post\"})})]},post._id);})]});};/* harmony default export */ var components_Posts = (Posts_Posts);\n// CONCATENATED MODULE: ./src/components/CreatePost.js\nvar CreatePost_CreatePost=function CreatePost(_ref){var token=_ref.token;var history=Object(react_router[\"e\" /* useHistory */])();var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),price=_useState6[0],setPrice=_useState6[1];var _useState7=Object(react[\"useState\"])('On Request'),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),location=_useState8[0],setLocation=_useState8[1];var _useState9=Object(react[\"useState\"])(false),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),willDeliver=_useState10[0],setWillDeliver=_useState10[1];var handleSubmit=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){var data;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return callApi({url:\"/posts\",method:'POST',body:{post:{title:title,description:description,price:price,location:location,willDeliver:willDeliver}},token:token});case 3:data=_context.sent;history.push('/posts');window.location.reload();console.log(data);case 7:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Create New Post\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"TextField\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"Title\",value:title,onChange:function onChange(event){return setTitle(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"Description\",value:description,onChange:function onChange(event){return setDescription(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"Price\",value:price,onChange:function onChange(event){return setPrice(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"Location\",value:location,onChange:function onChange(event){return setLocation(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"checkbox\",value:willDeliver,onChange:function onChange(event){return setWillDeliver(event.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Post!\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/\",children:\"Home\"})})]});};/* harmony default export */ var components_CreatePost = (CreatePost_CreatePost);\n// CONCATENATED MODULE: ./src/components/EditPost.js\nvar EditPost_EditPost=function EditPost(_ref){var token=_ref.token,posts=_ref.posts;var history=Object(react_router[\"e\" /* useHistory */])();var _useParams=Object(react_router[\"f\" /* useParams */])(),postId=_useParams.postId;if(posts.length===0)return null;var postToRender=posts.find(function(post){return postId===post._id;});console.log(\"EditPosts\",posts);console.log(\"EditPosts\",postId);var _useState=Object(react[\"useState\"])(postToRender.title),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=Object(react[\"useState\"])(postToRender.description),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=Object(react[\"useState\"])(postToRender.price),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),price=_useState6[0],setPrice=_useState6[1];var _useState7=Object(react[\"useState\"])(postToRender.location),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),location=_useState8[0],setLocation=_useState8[1];var _useState9=Object(react[\"useState\"])(postToRender.willDeliver),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),willDeliver=_useState10[0],setWillDeliver=_useState10[1];var handleSubmit=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){var data;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return callApi({url:\"/posts/\".concat(postToRender._id),method:'PATCH',body:{post:{title:title,description:description,price:price,location:location,willDeliver:willDeliver}},token:token});case 3:data=_context.sent;history.push('/posts');window.location.reload();console.log(data);case 7:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Edit Post\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"TextField\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"Title\",value:title,onChange:function onChange(event){return setTitle(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"Description\",value:description,onChange:function onChange(event){return setDescription(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"Price\",value:price,onChange:function onChange(event){return setPrice(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"Location\",value:location,onChange:function onChange(event){return setLocation(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"checkbox\",value:willDeliver,onChange:function onChange(event){return setWillDeliver(event.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Sumbit Edit\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/\",children:\"Home\"})})]});};/* harmony default export */ var components_EditPost = (EditPost_EditPost);\n// CONCATENATED MODULE: ./src/components/App.js\n/*\r\nRoutes:\r\n/ - home\r\n/register - register\r\n/login - login\r\n/posts - all posts\r\n    /posts/{id} - single post \r\nPlan:\r\n- fetch all posts\r\n- set up route for displaying all posts\r\n- write a component to display posts\r\n- set up route for displaying a single post\r\n*/var fetchUserData=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(token){var _yield$callApi,data;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return callApi({url:'/users/me',token:token});case 2:_yield$callApi=_context.sent;data=_yield$callApi.data;return _context.abrupt(\"return\",data);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchUserData(_x){return _ref.apply(this,arguments);};}();var fetchPosts=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(token){var _yield$callApi2,posts;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return callApi({url:'/posts',token:token});case 2:_yield$callApi2=_context2.sent;posts=_yield$callApi2.data.posts;return _context2.abrupt(\"return\",posts);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchPosts(_x2){return _ref2.apply(this,arguments);};}();var App_App=function App(){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),token=_useState2[0],setToken=_useState2[1];var _useState3=Object(react[\"useState\"])({}),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),userData=_useState4[0],setUserData=_useState4[1];var _useState5=Object(react[\"useState\"])([]),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),posts=_useState6[0],setPosts=_useState6[1];var isLoggedIn=userData.username!==undefined;var onLogOutClick=function onLogOutClick(){localStorage.removeItem('st-token');setToken('');setUserData({});};Object(react[\"useEffect\"])(/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(){var fetchedPosts;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!(posts.length===0)){_context3.next=5;break;}_context3.next=3;return fetchPosts(token);case 3:fetchedPosts=_context3.sent;setPosts(fetchedPosts);case 5:case\"end\":return _context3.stop();}}},_callee3);})));Object(react[\"useEffect\"])(/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee4(){var data;return regenerator_default.a.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(token){_context4.next=3;break;}setToken(localStorage.getItem('st-token'));return _context4.abrupt(\"return\");case 3:_context4.next=5;return fetchUserData(token);case 5:data=_context4.sent;setUserData(data);case 7:case\"end\":return _context4.stop();}}},_callee4);})),[token]);console.log(\"userData\",userData);console.log(\"isLoggedIn\",isLoggedIn);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[!isLoggedIn?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h1\",{children:[\"Welcome! \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"Please \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"/login\",children:\" sign in\"}),\" or \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"/register\",children:\"create an account\"}),\".\"]}):\"\",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/\",children:[isLoggedIn?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"Greeting\",children:[\"Hello, \",userData.username]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:onLogOutClick,children:\"Log Out\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/CreatePost\",children:\"Create A New Post\"})})]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/register\",children:\"Register\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/login\",children:\"Login\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/posts\",children:\"View All Posts\"})}),isLoggedIn?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"My Messages\"}),userData.messages.map(function(message){return message.fromUser._id===userData._id?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"Sender: \",message.fromUser.username,\" \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"Message: \",message.content]})]},message._id):null;})]}):null,isLoggedIn?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"My Posts\"}),userData.posts.map(function(post){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Post,{post:post,token:token,posts:posts});})]}):null]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/posts\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{children:[\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/\",children:\"Home\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{children:[\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/CreatePost\",children:\"Create New Post\"})]}),isLoggedIn?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:onLogOutClick,children:\"Log Out\"}):null,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Below are all recent posts\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Posts,{posts:posts,token:token})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/posts/:postId\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Post,{posts:posts})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/register\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Register,{action:\"register\",setToken:setToken})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/login\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Register,{action:\"login\",setToken:setToken})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/CreatePost\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_CreatePost,{action:\"post\",token:token})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/EditPost/:postId\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_EditPost,{posts:posts,token:token})})]});};/* harmony default export */ var components_App = (App_App);\n// CONCATENATED MODULE: ./src/components/Register.js\nvar Register_Register=function Register(_ref){var setToken=_ref.setToken,action=_ref.action;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var isLogin=action==='login';var title=isLogin?'Login':'Register';var oppositeAction=isLogin?'register':'login';var oppositeTitle=isLogin?'Register':'Login';var history=Object(react_router[\"e\" /* useHistory */])();var handleSubmit=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){var data,token;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return callApi({url:\"users/\".concat(action),body:{user:{username:username,password:password}},method:'POST'});case 3:data=_context.sent;_context.prev=4;token=data.data.token;if(!token){_context.next=11;break;}localStorage.setItem('st-token',token);setToken(token);history.push('/');return _context.abrupt(\"return\",token);case 11:_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](4);window.alert(\"Wrong Username or Password!\");case 16:case\"end\":return _context.stop();}}},_callee,null,[[4,13]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:title}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"username\",required:true,value:username,onChange:function onChange(event){return setUsername(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"TextField\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",placeholder:\"password\",value:password,onChange:function onChange(event){return setPassword(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:title})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/\".concat(oppositeAction),children:oppositeTitle})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/\",children:\"Home\"})})]});};/* harmony default export */ var components_Register = (Register_Register);\n// CONCATENATED MODULE: ./src/components/index.js\n\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_App,{})}),document.querySelector(\"#app\"));\n\n/***/ })\n\n},[[31,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:/Projects/StrangersThings/src/api/index.js","C:/Projects/StrangersThings/src/components/MessageForm.js","C:/Projects/StrangersThings/src/components/Post.js","C:/Projects/StrangersThings/src/components/Posts.js","C:/Projects/StrangersThings/src/components/CreatePost.js","C:/Projects/StrangersThings/src/components/EditPost.js","C:/Projects/StrangersThings/src/components/App.js","C:/Projects/StrangersThings/src/components/Register.js","C:/Projects/StrangersThings/src/index.js"],"names":["BASE_URL","COHORT_NAME","API_URL","callApi","url","method","token","body","console","log","options","toUpperCase","headers","JSON","stringify","fetch","response","json","data","error","MessageForm","postID","useState","writeMessage","setWriteMessage","SendMessage","event","preventDefault","message","content","target","value","Post","posts","post","useParams","postId","history","useHistory","length","postToRender","find","_id","onDelete","push","window","location","reload","title","author","username","fontSize","description","price","willDeliver","isAuthor","messages","map","fromUser","styles","searchContainer","display","justifyContent","padding","alignItems","searchInput","margin","postMatches","searchTerm","searchTermLower","toLowerCase","toMatch","field","includes","Posts","searchQuery","updateSearchQuery","postsToDisplay","filter","border","CreatePost","setTitle","setDescription","setPrice","setLocation","setWillDeliver","handleSubmit","EditPost","fetchUserData","fetchPosts","App","setToken","userData","setUserData","setPosts","isLoggedIn","undefined","onLogOutClick","localStorage","removeItem","useEffect","fetchedPosts","getItem","Register","action","setUsername","password","setPassword","isLogin","oppositeAction","oppositeTitle","user","setItem","alert","ReactDOM","render","document","querySelector"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAO,GAAMA,SAAQ,CAAG,6CAAjB,CACA,GAAMC,YAAW,CAAG,qBAApB,CACA,GAAMC,QAAO,CAAGF,QAAQ,CAAGC,WAA3B,CAEA,GAAME,QAAO,uHAAG,yLAASC,GAAT,MAASA,GAAT,CAAcC,MAAd,MAAcA,MAAd,CAAsBC,KAAtB,MAAsBA,KAAtB,CAA6BC,IAA7B,MAA6BA,IAA7B,CACnBC,OAAO,CAACC,GAAR,CAAY,WAAZ,CAAyB,CAAEL,GAAG,CAAHA,GAAF,CAAOC,MAAM,CAANA,MAAP,CAAeC,KAAK,CAALA,KAAf,CAAsBC,IAAI,CAAJA,IAAtB,CAAzB,EADmB,gBAITG,OAJS,CAIC,CACZL,MAAM,CAAEA,MAAM,CAAGA,MAAM,CAACM,WAAP,EAAH,CAA0B,KAD5B,CAEZC,OAAO,CAAE,CACL,eAAgB,kBADX,CAFG,CAKZL,IAAI,CAAEM,IAAI,CAACC,SAAL,CAAeP,IAAf,CALM,CAJD,CAYf,GAAID,KAAJ,CAAW,CACPI,OAAO,CAACE,OAAR,CAAgB,eAAhB,mBAA6CN,KAA7C,EACH,CAEDE,OAAO,CAACC,GAAR,CAAY,eAAZ,CAA6BP,OAAO,CAAGE,GAAvC,EAhBe,sBAiBQW,MAAK,CAACb,OAAO,CAAGE,GAAX,CAAgBM,OAAhB,CAjBb,QAiBTM,QAjBS,eAkBfR,OAAO,CAACC,GAAR,CAAYO,QAAZ,EAlBe,uBAmBIA,SAAQ,CAACC,IAAT,EAnBJ,SAmBTC,IAnBS,eAoBfV,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAsBS,IAAtB,EApBe,IAsBXA,IAAI,CAACC,KAtBM,+BAuBLD,KAAI,CAACC,KAvBA,yCA0BRD,IA1BQ,4DA4BfV,OAAO,CAACW,KAAR,CAAc,SAAd,cA5Be,qEAAH,kBAAPhB,QAAO,6CAAb,C;;;;;ACDP,GAAMiB,wBAAW,CAAG,QAAdA,YAAc,MAAqB,IAAnBd,MAAmB,MAAnBA,KAAmB,CAAZe,MAAY,MAAZA,MAAY,CACrC,cAAwCC,yBAAQ,CAAC,EAAD,CAAhD,kEAAOC,YAAP,eAAqBC,eAArB,eAEJ,GAAMC,YAAW,uHAAG,iBAAOC,KAAP,6HAChBA,KAAK,CAACC,cAAN,GADgB,sBAIGxB,QAAO,CAAC,CACvBC,GAAG,iBAAWiB,MAAX,aADoB,CAEvBhB,MAAM,CAAE,MAFe,CAGvBE,IAAI,CAAC,CACLqB,OAAO,CAAE,CAACC,OAAO,CAAEN,YAAV,CADJ,CAHkB,CAMvBjB,KAAK,CAALA,KANuB,CAAD,CAJV,QAIVY,IAJU,eAchBM,eAAe,CAAC,EAAD,CAAf,CAdgB,sDAAH,kBAAXC,YAAW,6CAAjB,CAiBE,mBACE,0EACI,oCAAM,QAAQ,CAAEA,WAAhB,wBACI,oCACI,IAAI,CAAC,MADT,CAEI,WAAW,CAAC,mBAFhB,CAGI,QAAQ,KAHZ,CAII,KAAK,CAAEF,YAJX,CAKI,QAAQ,CAAE,kBAACG,KAAD,QAAWF,gBAAe,CAACE,KAAK,CAACI,MAAN,CAAaC,KAAd,CAA1B,EALd,EADJ,cAQI,qCACJ,IAAI,CAAC,QADD,0BARJ,GADJ,EADF,CAkBC,CAtCH,CA0CiBX,kFAAf,E;;ACrCF,GAAMY,UAAI,CAAG,QAAPA,KAAO,MAA0B,IAAxBC,MAAwB,MAAxBA,KAAwB,CAAjBC,IAAiB,MAAjBA,IAAiB,CAAX5B,KAAW,MAAXA,KAAW,CACnC,eAAmB6B,yCAAS,EAA5B,CAAQC,MAAR,YAAQA,MAAR,CACA,GAAMC,QAAO,CAAGC,0CAAU,EAA1B,CAEA,GAAIL,KAAK,CAACM,MAAN,GAAiB,CAArB,CAAwB,MAAO,KAAP,CAExB,GAAIC,aAAJ,CAEA,GAAIN,IAAJ,CAAU,CACNM,YAAY,CAAGN,IAAf,CACH,CAFD,IAEO,CACHM,YAAY,CAAGP,KAAK,CAACQ,IAAN,CAAW,SAACP,IAAD,QAAUE,OAAM,GAAKF,IAAI,CAACQ,GAA1B,EAAX,CAAf,CACH,CAGG,GAAMC,SAAQ,uHAAG,iBAAOjB,KAAP,6HACbA,KAAK,CAACC,cAAN,GADa,sBAIMxB,QAAO,CAAC,CACvBC,GAAG,kBAAYoC,YAAY,CAACE,GAAzB,CADoB,CAEvBrC,MAAM,CAAE,QAFe,CAGvBC,KAAK,CAALA,KAHuB,CAAD,CAJb,QAIPY,IAJO,eAWTmB,OAAO,CAACO,IAAR,CAAa,QAAb,EACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GAZS,sDAAH,kBAARJ,SAAQ,6CAAd,CAeAnC,OAAO,CAACC,GAAR,CAAY,MAAZ,CAAoB+B,YAApB,EACC,mBAED,4EAEI,uDAAI,yCAAIA,YAAY,CAACQ,KAAjB,EAAJ,EAFJ,CAGKR,YAAY,CAACS,MAAb,CAAoBC,QAApB,cAED,0DAAK,gCAAG,KAAK,CAAG,CAACC,QAAQ,CAAC,MAAV,CAAX,2BAAL,KAAsDX,YAAY,CAACS,MAAb,CAAoBC,QAA1E,GAFC,CAID,IAPJ,cASI,0DAAK,gCAAG,KAAK,CAAG,CAACC,QAAQ,CAAC,MAAV,CAAX,0BAAL,KAAqDX,YAAY,CAACY,WAAlE,GATJ,cAUI,0DAAK,gCAAG,KAAK,CAAG,CAACD,QAAQ,CAAC,MAAV,CAAX,oBAAL,KAA+CX,YAAY,CAACa,KAA5D,GAVJ,cAWI,0DAAK,gCAAG,KAAK,CAAG,CAACF,QAAQ,CAAC,MAAV,CAAX,uBAAL,KAAkDX,YAAY,CAACM,QAA/D,GAXJ,cAYI,0DAAK,gCAAG,KAAK,CAAG,CAACK,QAAQ,CAAC,MAAV,CAAX,uBAAL,KAAkDX,YAAY,CAACc,WAAb,CAA2B,KAA3B,CAAmC,IAArF,GAZJ,CAaK,CAACpB,IAAD,cAAQ,2BAAC,gCAAD,EAAM,EAAE,CAAC,QAAT,+BAAR,CAAqD,IAb1D,CAcKM,YAAY,CAACe,QAAb,cAED,+DACCf,YAAY,CAACgB,QAAb,CAAsBC,GAAtB,CAA2B,SAAC7B,OAAD,CAAa,CACrC,mBACA,0DACI,0DAAK,gCAAG,KAAK,CAAG,CAACuB,QAAQ,CAAC,MAAV,CAAX,qBAAL,KAAgDvB,OAAO,CAAC8B,QAAR,CAAiBR,QAAjE,OADJ,cAEI,0DAAK,gCAAG,KAAK,CAAG,CAACC,QAAQ,CAAC,MAAV,CAAX,sBAAL,KAAiDvB,OAAO,CAACC,OAAzD,GAFJ,GADA,CAOH,CARA,CADD,cAaA,2DACA,2BAAC,gCAAD,EAAM,EAAE,CAAE,aAAeW,YAAY,CAACE,GAAtC,uBADA,EAbA,cAgBA,qCAAQ,OAAO,CAAEC,QAAjB,yBAhBA,GAFC,cAqBD,0EACA,2BAAC,sBAAD,EAAa,MAAM,CAAIH,YAAY,CAACE,GAApC,CAAyC,KAAK,CAAIpC,KAAlD,EADA,EAnCJ,GAFC,CA2CR,CA1ED,CA6Ee0B,6DAAf,E;;ACjFA,GAAM2B,OAAM,CAAG,CACXC,eAAe,CAAE,CACbC,OAAO,CAAE,MADI,CAEbC,cAAc,CAAE,QAFH,CAGbC,OAAO,CAAE,MAHI,CAIbC,UAAU,CAAE,QAJC,CADN,CAOXC,WAAW,CAAE,CACTC,MAAM,CAAE,QADC,CAPF,CAAf,CAYA,GAAMC,YAAW,CAAG,QAAdA,YAAc,CAACjC,IAAD,CAAOkC,UAAP,CAAsB,CACtC,GAAMC,gBAAe,CAAGD,UAAU,CAACE,WAAX,EAAxB,CAEA,GACIlB,YADJ,CAMIlB,IANJ,CACIkB,WADJ,CAEIN,QAFJ,CAMIZ,IANJ,CAEIY,QAFJ,CAGIE,KAHJ,CAMId,IANJ,CAGIc,KAHJ,CAIcE,QAJd,CAMIhB,IANJ,CAIIe,MAJJ,CAIcC,QAJd,CAKIG,KALJ,CAMInB,IANJ,CAKImB,KALJ,CAQA,GAAMkB,QAAO,CAAG,CAACnB,WAAD,CAAcN,QAAd,CAAwBE,KAAxB,CAA+BE,QAA/B,CAAyCG,KAAzC,CAAhB,CACA,sBAAoBkB,OAApB,yBAA6B,CAAxB,GAAMC,MAAK,aAAX,CACD,GAAIA,KAAK,CAACF,WAAN,GAAoBG,QAApB,CAA6BJ,eAA7B,CAAJ,CAAmD,CAC/C,MAAO,KAAP,CACH,CACJ,CAED,MAAO,MAAP,CACH,CAnBD,CAqBA,GAAMK,YAAK,CAAG,QAARA,MAAQ,MAAe,IAAZzC,MAAY,MAAZA,KAAY,CACzB,cAAyCX,yBAAQ,CAAC,EAAD,CAAjD,kEAAOqD,WAAP,eAAoBC,iBAApB,eAEA,GAAMC,eAAc,CAChBF,WAAW,CAACpC,MAAZ,CAAqB,CAArB,CACMN,KAAK,CAAC6C,MAAN,CAAa,SAAC5C,IAAD,QAAUiC,YAAW,CAACjC,IAAD,CAAOyC,WAAP,CAArB,EAAb,CADN,CAEM1C,KAHV,CAKA,mBACI,4EACA,gCAAG,KAAK,CAAG,CAACkB,QAAQ,CAAC,MAAV,CAAX,uBAA8B,mDAA9B,EADA,cAEI,kCAAK,KAAK,CAAEQ,MAAM,CAACC,eAAnB,uBACI,oCACI,IAAI,CAAC,MADT,CAEI,WAAW,CAAC,aAFhB,CAGI,KAAK,CAAED,MAAM,CAACM,WAHlB,CAII,KAAK,CAAEU,WAJX,CAKI,QAAQ,CAAE,kBAACjD,KAAD,CAAW,CACjBkD,iBAAiB,CAAClD,KAAK,CAACI,MAAN,CAAaC,KAAd,CAAjB,CACH,CAPL,EADJ,EAFJ,CAcK8C,cAAc,CAACpB,GAAf,CAAmB,SAACvB,IAAD,qBAChB,mCAAoB,KAAK,CAAE,CAAE6C,MAAM,CAAE,iBAAV,CAA3B,wBACI,2BAAC,eAAD,EAAM,KAAK,CAAE9C,KAAb,CAAoB,IAAI,CAAEC,IAA1B,EADJ,cAEI,2DACI,2BAAC,gCAAD,EAAM,EAAE,kBAAYA,IAAI,CAACQ,GAAjB,CAAR,uBADJ,EAFJ,GAAUR,IAAI,CAACQ,GAAf,CADgB,EAAnB,CAdL,GADJ,CAyBH,CAjCD,CAmCegC,gEAAf,E;;ACnEA,GAAMM,sBAAU,CAAG,QAAbA,WAAa,MAAa,IAAX1E,MAAW,MAAXA,KAAW,CAC5B,GAAM+B,QAAO,CAAGC,0CAAU,EAA1B,CACA,cAA0BhB,yBAAQ,CAAC,EAAD,CAAlC,kEAAO0B,KAAP,eAAciC,QAAd,eACA,eAAsC3D,yBAAQ,CAAC,EAAD,CAA9C,mEAAO8B,WAAP,eAAoB8B,cAApB,eACA,eAA0B5D,yBAAQ,CAAC,EAAD,CAAlC,mEAAO+B,KAAP,eAAc8B,QAAd,eACA,eAAgC7D,yBAAQ,CAAC,YAAD,CAAxC,mEAAOwB,QAAP,eAAiBsC,WAAjB,eACA,eAAsC9D,yBAAQ,CAAC,KAAD,CAA9C,oEAAOgC,WAAP,gBAAoB+B,cAApB,gBAEA,GAAMC,aAAY,uHAAG,iBAAO5D,KAAP,6HACjBA,KAAK,CAACC,cAAN,GADiB,sBAIExB,QAAO,CAAC,CACvBC,GAAG,SADoB,CAEvBC,MAAM,CAAE,MAFe,CAGvBE,IAAI,CAAC,CACD2B,IAAI,CAAE,CACJc,KAAK,CAAEA,KADH,CAEJI,WAAW,CAAEA,WAFT,CAGJC,KAAK,CAAEA,KAHH,CAIJP,QAAQ,CAAEA,QAJN,CAKJQ,WAAW,CAAEA,WALT,CADL,CAHkB,CAYrBhD,KAAK,CAALA,KAZqB,CAAD,CAJT,QAIXY,IAJW,eAoBbmB,OAAO,CAACO,IAAR,CAAa,QAAb,EACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACJvC,OAAO,CAACC,GAAR,CAAYS,IAAZ,EAtBiB,sDAAH,kBAAZoE,aAAY,6CAAlB,CA0BA,mBACI,4EACI,6DADJ,cAEI,oCAAM,QAAQ,CAAEA,YAAhB,wBACI,mCAAK,EAAE,CAAE,WAAT,wBACA,oCACI,IAAI,CAAC,MADT,CAEI,WAAW,CAAC,OAFhB,CAGI,KAAK,CAAEtC,KAHX,CAII,QAAQ,CAAE,kBAACtB,KAAD,QAAWuD,SAAQ,CAACvD,KAAK,CAACI,MAAN,CAAaC,KAAd,CAAnB,EAJd,EADA,cAOA,oCACI,IAAI,CAAC,MADT,CAEI,WAAW,CAAC,aAFhB,CAGI,KAAK,CAAEqB,WAHX,CAII,QAAQ,CAAE,kBAAC1B,KAAD,QAAWwD,eAAc,CAACxD,KAAK,CAACI,MAAN,CAAaC,KAAd,CAAzB,EAJd,EAPA,cAaA,oCACI,IAAI,CAAC,MADT,CAEI,WAAW,CAAC,OAFhB,CAGI,KAAK,CAAEsB,KAHX,CAII,QAAQ,CAAE,kBAAC3B,KAAD,QAAWyD,SAAQ,CAACzD,KAAK,CAACI,MAAN,CAAaC,KAAd,CAAnB,EAJd,EAbA,cAmBA,oCACI,IAAI,CAAC,MADT,CAEI,WAAW,CAAC,UAFhB,CAGI,KAAK,CAAEe,QAHX,CAII,QAAQ,CAAE,kBAACpB,KAAD,QAAW0D,YAAW,CAAC1D,KAAK,CAACI,MAAN,CAAaC,KAAd,CAAtB,EAJd,EAnBA,cAyBA,oCACI,IAAI,CAAC,UADT,CAEI,KAAK,CAAEuB,WAFX,CAGI,QAAQ,CAAE,kBAAC5B,KAAD,QAAW2D,eAAc,CAAC3D,KAAK,CAACI,MAAN,CAAaC,KAAd,CAAzB,EAHd,EAzBA,GADJ,cAgCI,qCAAQ,IAAI,CAAC,QAAb,mBAhCJ,GAFJ,cAoCI,2DACI,2BAAC,gCAAD,EAAM,EAAE,CAAC,GAAT,kBADJ,EApCJ,GADJ,CA0CH,CA5ED,CA+EeiD,+EAAf,E;;AC/EA,GAAMO,kBAAQ,CAAG,QAAXA,SAAW,MAAoB,IAAlBjF,MAAkB,MAAlBA,KAAkB,CAAX2B,KAAW,MAAXA,KAAW,CACjC,GAAMI,QAAO,CAAGC,0CAAU,EAA1B,CACA,eAAiBH,yCAAS,EAA1B,CAAOC,MAAP,YAAOA,MAAP,CACA,GAAIH,KAAK,CAACM,MAAN,GAAiB,CAArB,CAAwB,MAAO,KAAP,CAExB,GAAIC,aAAY,CAAGP,KAAK,CAACQ,IAAN,CAAW,SAACP,IAAD,QAAUE,OAAM,GAAKF,IAAI,CAACQ,GAA1B,EAAX,CAAnB,CACAlC,OAAO,CAACC,GAAR,CAAY,WAAZ,CAAyBwB,KAAzB,EACAzB,OAAO,CAACC,GAAR,CAAY,WAAZ,CAAyB2B,MAAzB,EAIA,cAA0Bd,yBAAQ,CAACkB,YAAY,CAACQ,KAAd,CAAlC,kEAAOA,KAAP,eAAciC,QAAd,eACA,eAAsC3D,yBAAQ,CAACkB,YAAY,CAACY,WAAd,CAA9C,mEAAOA,WAAP,eAAoB8B,cAApB,eACA,eAA0B5D,yBAAQ,CAACkB,YAAY,CAACa,KAAd,CAAlC,mEAAOA,KAAP,eAAc8B,QAAd,eACA,eAAgC7D,yBAAQ,CAACkB,YAAY,CAACM,QAAd,CAAxC,mEAAOA,QAAP,eAAiBsC,WAAjB,eACA,eAAsC9D,yBAAQ,CAACkB,YAAY,CAACc,WAAd,CAA9C,oEAAOA,WAAP,gBAAoB+B,cAApB,gBAEA,GAAMC,aAAY,uHAAG,iBAAO5D,KAAP,6HACjBA,KAAK,CAACC,cAAN,GADiB,sBAIExB,QAAO,CAAC,CACvBC,GAAG,kBAAYoC,YAAY,CAACE,GAAzB,CADoB,CAEvBrC,MAAM,CAAE,OAFe,CAGvBE,IAAI,CAAC,CACD2B,IAAI,CAAE,CACJc,KAAK,CAAEA,KADH,CAEJI,WAAW,CAAEA,WAFT,CAGJC,KAAK,CAAEA,KAHH,CAIJP,QAAQ,CAAEA,QAJN,CAKJQ,WAAW,CAAEA,WALT,CADL,CAHkB,CAYrBhD,KAAK,CAALA,KAZqB,CAAD,CAJT,QAIXY,IAJW,eAoBbmB,OAAO,CAACO,IAAR,CAAa,QAAb,EACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACJvC,OAAO,CAACC,GAAR,CAAYS,IAAZ,EAtBiB,sDAAH,kBAAZoE,aAAY,6CAAlB,CA0BA,mBACI,4EACI,uDADJ,cAEI,oCAAM,QAAQ,CAAEA,YAAhB,wBACI,mCAAK,EAAE,CAAE,WAAT,wBACA,oCACI,IAAI,CAAC,MADT,CAEI,WAAW,CAAC,OAFhB,CAGI,KAAK,CAAEtC,KAHX,CAII,QAAQ,CAAE,kBAACtB,KAAD,QAAWuD,SAAQ,CAACvD,KAAK,CAACI,MAAN,CAAaC,KAAd,CAAnB,EAJd,EADA,cAOA,oCACI,IAAI,CAAC,MADT,CAEI,WAAW,CAAC,aAFhB,CAGI,KAAK,CAAEqB,WAHX,CAII,QAAQ,CAAE,kBAAC1B,KAAD,QAAWwD,eAAc,CAACxD,KAAK,CAACI,MAAN,CAAaC,KAAd,CAAzB,EAJd,EAPA,cAaA,oCACI,IAAI,CAAC,MADT,CAEI,WAAW,CAAC,OAFhB,CAGI,KAAK,CAAEsB,KAHX,CAII,QAAQ,CAAE,kBAAC3B,KAAD,QAAWyD,SAAQ,CAACzD,KAAK,CAACI,MAAN,CAAaC,KAAd,CAAnB,EAJd,EAbA,cAmBA,oCACI,IAAI,CAAC,MADT,CAEI,WAAW,CAAC,UAFhB,CAGI,KAAK,CAAEe,QAHX,CAII,QAAQ,CAAE,kBAACpB,KAAD,QAAW0D,YAAW,CAAC1D,KAAK,CAACI,MAAN,CAAaC,KAAd,CAAtB,EAJd,EAnBA,cAyBA,oCACI,IAAI,CAAC,UADT,CAEI,KAAK,CAAEuB,WAFX,CAGI,QAAQ,CAAE,kBAAC5B,KAAD,QAAW2D,eAAc,CAAC3D,KAAK,CAACI,MAAN,CAAaC,KAAd,CAAzB,EAHd,EAzBA,GADJ,cAgCI,qCAAQ,IAAI,CAAC,QAAb,yBAhCJ,GAFJ,cAoCI,2DACI,2BAAC,gCAAD,EAAM,EAAE,CAAC,GAAT,kBADJ,EApCJ,GADJ,CA0CH,CArFD,CAuFewD,yEAAf,E;;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAEA,GAAMC,cAAa,sHAAG,iBAAOlF,KAAP,kKACKH,QAAO,CAAC,CAC3BC,GAAG,CAAE,WADsB,CAE3BE,KAAK,CAALA,KAF2B,CAAD,CADZ,qCACVY,IADU,gBACVA,IADU,iCAMXA,IANW,wDAAH,kBAAbsE,cAAa,4CAAnB,CASA,GAAMC,WAAU,uHAAG,kBAAOnF,KAAP,yKAGLH,QAAO,CAAC,CACdC,GAAG,CAAE,QADS,CAEdE,KAAK,CAALA,KAFc,CAAD,CAHF,uCAEH2B,KAFG,iBAEXf,IAFW,CAEHe,KAFG,kCAQRA,KARQ,0DAAH,kBAAVwD,WAAU,8CAAhB,CAWA,GAAMC,QAAG,CAAG,QAANA,IAAM,EAAM,CACd,cAA0BpE,yBAAQ,CAAC,EAAD,CAAlC,kEAAOhB,KAAP,eAAcqF,QAAd,eACA,eAAgCrE,yBAAQ,CAAC,EAAD,CAAxC,mEAAOsE,QAAP,eAAiBC,WAAjB,eACA,eAA0BvE,yBAAQ,CAAC,EAAD,CAAlC,mEAAOW,KAAP,eAAc6D,QAAd,eAEA,GAAMC,WAAU,CAAGH,QAAQ,CAAC1C,QAAT,GAAsB8C,SAAzC,CAEA,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,EAAM,CACxBC,YAAY,CAACC,UAAb,CAAwB,UAAxB,EACAR,QAAQ,CAAC,EAAD,CAAR,CACAE,WAAW,CAAC,EAAD,CAAX,CACH,CAJD,CAMAO,0BAAS,kGAAC,gKACFnE,KAAK,CAACM,MAAN,GAAiB,CADf,kDAEyBkD,WAAU,CAACnF,KAAD,CAFnC,QAEI+F,YAFJ,gBAGFP,QAAQ,CAACO,YAAD,CAAR,CAHE,wDAAD,GAAT,CAOAD,0BAAS,kGAAC,sJACD9F,KADC,0BAEFqF,QAAQ,CAACO,YAAY,CAACI,OAAb,CAAqB,UAArB,CAAD,CAAR,CAFE,gEAKad,cAAa,CAAClF,KAAD,CAL1B,QAKAY,IALA,gBAMN2E,WAAW,CAAC3E,IAAD,CAAX,CANM,wDAAD,GAON,CAACZ,KAAD,CAPM,CAAT,CAQAE,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwBmF,QAAxB,EACApF,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0BsF,UAA1B,EAGA,mBACI,+DACC,CAACA,UAAD,cACG,qEAAa,mCAAb,wBAA6B,gCAAG,IAAI,CAAE,QAAT,sBAA7B,qBAA+D,gCAAG,IAAI,CAAC,WAAR,+BAA/D,OADH,CAEK,EAHN,cAII,4BAAC,6BAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,WACKA,UAAU,cACP,4EACI,mCAAK,EAAE,CAAE,UAAT,qBAA4BH,QAAQ,CAAC1C,QAArC,GADJ,cAEI,qCAAQ,OAAO,CAAE+C,aAAjB,qBAFJ,cAGI,2DACJ,2BAAC,gCAAD,EAAM,EAAE,CAAC,aAAT,+BADI,EAHJ,GADO,cASP,4EACI,2DACI,2BAAC,gCAAD,EAAM,EAAE,CAAC,WAAT,sBADJ,EADJ,cAII,2DACI,2BAAC,gCAAD,EAAM,EAAE,CAAC,QAAT,mBADJ,EAJJ,GAVR,cAmBI,2DACI,2BAAC,gCAAD,EAAM,EAAE,CAAC,QAAT,4BADJ,EAnBJ,CAyBKF,UAAU,cAEP,4EACA,yDADA,CAECH,QAAQ,CAACpC,QAAT,CAAkBC,GAAlB,CAAuB,SAAC7B,OAAD,CAAa,CACjC,MACAA,QAAO,CAAC8B,QAAR,CAAiBhB,GAAjB,GAAyBkD,QAAQ,CAAClD,GAAlC,cAEA,0DACI,wDAAcd,OAAO,CAAC8B,QAAR,CAAiBR,QAA/B,OADJ,cAEI,yDAAetB,OAAO,CAACC,OAAvB,GAFJ,GAAWD,OAAO,CAACc,GAAnB,CAFA,CAOA,IARA,CASF,CAVD,CAFD,GAFO,CAkBX,IA3CJ,CA+CKqD,UAAU,cACX,4EACA,sDADA,CAEKH,QAAQ,CAAC3D,KAAT,CAAewB,GAAf,CAAoB,SAACvB,IAAD,CAAU,CAC3B,mBACA,2BAAC,eAAD,EAAM,IAAI,CAAIA,IAAd,CAAqB,KAAK,CAAI5B,KAA9B,CAAqC,KAAK,CAAE2B,KAA5C,EADA,CAKP,CANI,CAFL,GADW,CAWL,IA1DV,GAJJ,cAoFI,4BAAC,6BAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,QAAlB,wBACA,iEAAS,2BAAC,gCAAD,EAAM,EAAE,CAAC,GAAT,kBAAT,GADA,cAEA,iEAAS,2BAAC,gCAAD,EAAM,EAAE,CAAC,aAAT,6BAAT,GAFA,CAGC8D,UAAU,cAAG,qCAAQ,OAAO,CAAEE,aAAjB,qBAAH,CAAqD,IAHhE,cAIA,wEAJA,cAKI,2BAAC,gBAAD,EAAO,KAAK,CAAEhE,KAAd,CAAqB,KAAK,CAAE3B,KAA5B,EALJ,GApFJ,cA2FI,2BAAC,6BAAD,EAAO,IAAI,CAAC,gBAAZ,uBACI,2BAAC,eAAD,EAAM,KAAK,CAAE2B,KAAb,EADJ,EA3FJ,cA8FI,2BAAC,6BAAD,EAAO,IAAI,CAAC,WAAZ,uBACI,2BAAC,mBAAD,EAAU,MAAM,CAAC,UAAjB,CAA4B,QAAQ,CAAE0D,QAAtC,EADJ,EA9FJ,cAiGI,2BAAC,6BAAD,EAAO,IAAI,CAAC,QAAZ,uBACI,2BAAC,mBAAD,EAAU,MAAM,CAAC,OAAjB,CAAyB,QAAQ,CAAEA,QAAnC,EADJ,EAjGJ,cAoGI,2BAAC,6BAAD,EAAO,IAAI,CAAC,aAAZ,uBACI,2BAAC,qBAAD,EAAY,MAAM,CAAC,MAAnB,CAA0B,KAAK,CAAErF,KAAjC,EADJ,EApGJ,cAuGI,2BAAC,6BAAD,EAAO,IAAI,CAAC,mBAAZ,uBACI,2BAAC,mBAAD,EAAU,KAAK,CAAE2B,KAAjB,CAAwB,KAAK,CAAE3B,KAA/B,EADJ,EAvGJ,GADJ,CA6GH,CA7ID,CAgJeoF,0DAAf,E;;ACxLA,GAAMa,kBAAQ,CAAG,QAAXA,SAAW,MAA0B,IAAvBZ,SAAuB,MAAvBA,QAAuB,CAAba,MAAa,MAAbA,MAAa,CACvC,cAAgClF,yBAAQ,CAAC,EAAD,CAAxC,kEAAO4B,QAAP,eAAiBuD,WAAjB,eACA,eAAgCnF,yBAAQ,CAAC,EAAD,CAAxC,mEAAOoF,QAAP,eAAiBC,WAAjB,eACA,GAAMC,QAAO,CAAGJ,MAAM,GAAK,OAA3B,CACA,GAAMxD,MAAK,CAAG4D,OAAO,CAAG,OAAH,CAAa,UAAlC,CACA,GAAMC,eAAc,CAAGD,OAAO,CAAG,UAAH,CAAgB,OAA9C,CACA,GAAME,cAAa,CAAGF,OAAO,CAAG,UAAH,CAAgB,OAA7C,CACA,GAAMvE,QAAO,CAAGC,0CAAU,EAA1B,CAEA,GAAMgD,aAAY,uHAAG,iBAAO5D,KAAP,mIACjBA,KAAK,CAACC,cAAN,GADiB,sBAGExB,QAAO,CAAC,CACvBC,GAAG,iBAAWoG,MAAX,CADoB,CAEvBjG,IAAI,CAAE,CAAEwG,IAAI,CAAE,CAAE7D,QAAQ,CAARA,QAAF,CAAYwD,QAAQ,CAARA,QAAZ,CAAR,CAFiB,CAGvBrG,MAAM,CAAE,MAHe,CAAD,CAHT,QAGXa,IAHW,+BAadZ,KAAK,CAAGY,IAAI,CAACA,IAAL,CAAUZ,KAAlB,CAbc,IAcVA,KAdU,0BAeV4F,YAAY,CAACc,OAAb,CAAsB,UAAtB,CAAkC1G,KAAlC,EACAqF,QAAQ,CAACrF,KAAD,CAAR,CACA+B,OAAO,CAACO,IAAR,CAAa,GAAb,EAjBU,gCAkBHtC,KAlBG,2FAqBduC,MAAM,CAACoE,KAAP,CAAa,6BAAb,EArBc,qEAAH,kBAAZ3B,aAAY,6CAAlB,CA4BA,mBACI,4EACI,0CAAKtC,KAAL,EADJ,cAEI,oCAAM,QAAQ,CAAEsC,YAAhB,wBACI,oCACI,IAAI,CAAC,MADT,CAEI,WAAW,CAAC,UAFhB,CAGI,QAAQ,KAHZ,CAII,KAAK,CAAEpC,QAJX,CAKI,QAAQ,CAAE,kBAACxB,KAAD,QAAW+E,YAAW,CAAC/E,KAAK,CAACI,MAAN,CAAaC,KAAd,CAAtB,EALd,EADJ,cAQI,mCAAK,EAAE,CAAE,WAAT,wBACA,oCACI,IAAI,CAAC,UADT,CAEI,WAAW,CAAC,UAFhB,CAGI,KAAK,CAAE2E,QAHX,CAII,QAAQ,CAAE,kBAAChF,KAAD,QAAWiF,YAAW,CAACjF,KAAK,CAACI,MAAN,CAAaC,KAAd,CAAtB,EAJd,EADA,cAOA,qCAAQ,IAAI,CAAC,QAAb,UAAuBiB,KAAvB,EAPA,GARJ,GAFJ,cAoBI,2DACI,2BAAC,gCAAD,EAAM,EAAE,YAAM6D,cAAN,CAAR,UAAiCC,aAAjC,EADJ,EApBJ,cAuBI,2DACI,2BAAC,gCAAD,EAAM,EAAE,CAAC,GAAT,kBADJ,EAvBJ,GADJ,CA8BH,CAnED,CAsEeP,yEAAf,E;;;;ACrECW,mBAAQ,CAACC,MAAT,cACE,2BAAC,yCAAD,wBACG,2BAAC,cAAD,IADH,EADF,CAICC,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAJD,E","file":"x","sourcesContent":["export const BASE_URL = 'https://strangers-things.herokuapp.com/api/';\r\nexport const COHORT_NAME = '2104-ECE-RM-WEB-PT/';\r\nexport const API_URL = BASE_URL + COHORT_NAME;\r\n\r\nexport const callApi = async ({ url, method, token, body }) => {\r\n    console.log('callApi: ', { url, method, token, body });\r\n\r\n    try {\r\n        const options = {\r\n            method: method ? method.toUpperCase() : 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify(body),\r\n        };\r\n\r\n        if (token) {\r\n            options.headers['Authorization'] = `Bearer ${token}`;\r\n        }\r\n\r\n        console.log('request URL: ', API_URL + url);\r\n        const response = await fetch(API_URL + url, options);\r\n        console.log(response)\r\n        const data = await response.json();\r\n        console.log('data: ', data);\r\n\r\n        if (data.error) {\r\n            throw data.error;\r\n        }\r\n\r\n        return data;\r\n    } catch (error) {\r\n        console.error('ERROR: ', error);\r\n    }\r\n};\r\n","import React, { useState } from 'react';\r\nimport { callApi } from '../api';\r\n\r\nconst MessageForm = ({token, postID}) => {\r\n    const [writeMessage, setWriteMessage] = useState(\"\");\r\n\r\nconst SendMessage = async (event) => {\r\n    event.preventDefault();\r\n\r\n\r\n    const data = await callApi({\r\n        url: `posts/${postID}/messages`,\r\n        method: 'POST',\r\n        body:{\r\n        message: {content: writeMessage}\r\n        },\r\n        token,\r\n    });\r\n\r\n    \r\n    setWriteMessage(\"\")\r\n  };\r\n\r\n  return (\r\n    <>\r\n        <form onSubmit={SendMessage}>\r\n            <input\r\n                type=\"text\"\r\n                placeholder=\"Type Message Here\"\r\n                required\r\n                value={writeMessage}\r\n                onChange={(event) => setWriteMessage(event.target.value)}\r\n            ></input>\r\n            <button \r\n        type=\"submit\">\r\n            Send Message\r\n        </button>\r\n        </form>\r\n        \r\n    </>\r\n);\r\n  };\r\n\r\n\r\n\r\n  export default MessageForm;","import React from 'react';\r\nimport { Link, useHistory, useParams } from 'react-router-dom';\r\nimport { callApi } from '../api';\r\nimport MessageForm from './MessageForm';\r\n\r\n\r\n\r\n\r\nconst Post = ({posts, post, token}) => {\r\n    const { postId } = useParams();\r\n    const history = useHistory();\r\n\r\n    if (posts.length === 0) return null;\r\n\r\n    let postToRender;\r\n\r\n    if (post) {\r\n        postToRender = post;\r\n    } else {\r\n        postToRender = posts.find((post) => postId === post._id);\r\n    }\r\n\r\n        \r\n        const onDelete = async (event) => {\r\n            event.preventDefault();\r\n    \r\n    \r\n            const data = await callApi({\r\n                url: `/posts/${postToRender._id}`,\r\n                method: 'DELETE',\r\n                token,\r\n            });\r\n        \r\n    \r\n                history.push('/posts');\r\n                window.location.reload()\r\n        }\r\n\r\n        console.log(\"post\", postToRender)\r\n         return (\r\n        \r\n        <>\r\n        \r\n            <h2><u>{postToRender.title}</u></h2>\r\n            {postToRender.author.username\r\n            ? \r\n            <div><b style ={{fontSize:\"23px\"}}>Submitted by:</b> {postToRender.author.username }</div>\r\n            :\r\n            null\r\n            }\r\n            <div><b style ={{fontSize:\"23px\"}}>Description:</b> {postToRender.description}</div>\r\n            <div><b style ={{fontSize:\"23px\"}}>Price:</b> {postToRender.price}</div>\r\n            <div><b style ={{fontSize:\"23px\"}}>Location:</b> {postToRender.location}</div>\r\n            <div><b style ={{fontSize:\"23px\"}}>Delivers:</b> {postToRender.willDeliver ? 'Yes' : 'No'}</div>\r\n            {!post ? <Link to=\"/posts\">Back to all posts</Link> : null}\r\n            {postToRender.isAuthor \r\n            ? \r\n            <>\r\n            {postToRender.messages.map ((message) => {\r\n                return (\r\n                <div>\r\n                    <div><b style ={{fontSize:\"23px\"}}>Sender:</b> {message.fromUser.username} </div>\r\n                    <div><b style ={{fontSize:\"23px\"}}>Message:</b> {message.content}</div>\r\n                </div>\r\n                )\r\n            \r\n            }\r\n\r\n            )\r\n            } \r\n            <button>\r\n            <Link to={\"/EditPost/\" + postToRender._id}>Edit Post</Link>\r\n            </button>\r\n            <button onClick={onDelete}>Delete Post</button> \r\n            </>\r\n            : \r\n            <>\r\n            <MessageForm postID = {postToRender._id} token = {token}/>\r\n            </>\r\n} \r\n  </>       \r\n    );\r\n};\r\n\r\n\r\nexport default Post;","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Post from './Post';\r\n\r\nconst styles = {\r\n    searchContainer: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        padding: '16px',\r\n        alignItems: 'center',\r\n    },\r\n    searchInput: {\r\n        margin: '0 16px',\r\n    },\r\n};\r\n\r\nconst postMatches = (post, searchTerm) => {\r\n    const searchTermLower = searchTerm.toLowerCase();\r\n\r\n    const {\r\n        description,\r\n        location,\r\n        title,\r\n        author: { username },\r\n        price,\r\n    } = post;\r\n\r\n    const toMatch = [description, location, title, username, price];\r\n    for (const field of toMatch) {\r\n        if (field.toLowerCase().includes(searchTermLower)) {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    return false;\r\n};\r\n\r\nconst Posts = ({ posts }) => {\r\n    const [searchQuery, updateSearchQuery] = useState('');\r\n\r\n    const postsToDisplay =\r\n        searchQuery.length > 0\r\n            ? posts.filter((post) => postMatches(post, searchQuery))\r\n            : posts;\r\n\r\n    return (\r\n        <>\r\n        <b style ={{fontSize:\"28px\"}}><h2>Posts</h2></b>\r\n            <div style={styles.searchContainer}>\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search Post\"\r\n                    style={styles.searchInput}\r\n                    value={searchQuery}\r\n                    onChange={(event) => {\r\n                        updateSearchQuery(event.target.value);\r\n                    }}\r\n                />\r\n            </div>\r\n\r\n            {postsToDisplay.map((post) => (\r\n                <div key={post._id} style={{ border: '1px solid black' }}>\r\n                    <Post posts={posts} post={post} />\r\n                    <button>\r\n                        <Link to={`/posts/${post._id}`}>View Post</Link>\r\n                    </button>\r\n                </div>\r\n            ))}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Posts;","import React, { useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { callApi } from '../api';\r\n\r\n\r\nconst CreatePost = ({token}) => {\r\n    const history = useHistory();\r\n    const [title, setTitle] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const [price, setPrice] = useState('');\r\n    const [location, setLocation] = useState('On Request');\r\n    const [willDeliver, setWillDeliver] = useState(false);\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n\r\n\r\n        const data = await callApi({\r\n            url: `/posts`,\r\n            method: 'POST',\r\n            body:{\r\n                post: {\r\n                  title: title,\r\n                  description: description,\r\n                  price: price,\r\n                  location: location,\r\n                  willDeliver: willDeliver,\r\n                }\r\n            }, \r\n              token\r\n        });\r\n    \r\n\r\n            history.push('/posts');\r\n            window.location.reload()\r\n        console.log(data)\r\n    };\r\n\r\n    \r\n    return (\r\n        <>\r\n            <h2>Create New Post</h2>\r\n            <form onSubmit={handleSubmit}>\r\n                <div id =\"TextField\">\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Title\"\r\n                    value={title}\r\n                    onChange={(event) => setTitle(event.target.value)}\r\n                ></input>\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Description\"\r\n                    value={description}\r\n                    onChange={(event) => setDescription(event.target.value)}\r\n                ></input>\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Price\"\r\n                    value={price}\r\n                    onChange={(event) => setPrice(event.target.value)}\r\n                ></input>\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Location\"\r\n                    value={location}\r\n                    onChange={(event) => setLocation(event.target.value)}\r\n                ></input>\r\n                <input\r\n                    type=\"checkbox\"\r\n                    value={willDeliver}\r\n                    onChange={(event) => setWillDeliver(event.target.value)}\r\n                ></input>\r\n                </div>\r\n                <button type=\"submit\">Post!</button>\r\n            </form>\r\n            <button>\r\n                <Link to=\"/\">Home</Link>\r\n            </button>\r\n        </>\r\n    );\r\n};\r\n\r\n\r\nexport default CreatePost;","import React, { useState } from 'react';\r\nimport { Link, useHistory, useParams } from 'react-router-dom';\r\nimport { callApi } from '../api';\r\n\r\n\r\nconst EditPost = ({token, posts}) => {\r\n    const history = useHistory();\r\n    const {postId} = useParams();\r\n    if (posts.length === 0) return null;\r\n\r\n    let postToRender = posts.find((post) => postId === post._id);\r\n    console.log(\"EditPosts\", posts)\r\n    console.log(\"EditPosts\", postId)\r\n\r\n\r\n\r\n    const [title, setTitle] = useState(postToRender.title);\r\n    const [description, setDescription] = useState(postToRender.description);\r\n    const [price, setPrice] = useState(postToRender.price);\r\n    const [location, setLocation] = useState(postToRender.location);\r\n    const [willDeliver, setWillDeliver] = useState(postToRender.willDeliver);\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n\r\n\r\n        const data = await callApi({\r\n            url: `/posts/${postToRender._id}`,\r\n            method: 'PATCH',\r\n            body:{\r\n                post: {\r\n                  title: title,\r\n                  description: description,\r\n                  price: price,\r\n                  location: location,\r\n                  willDeliver: willDeliver,\r\n                }\r\n            }, \r\n              token\r\n        });\r\n    \r\n\r\n            history.push('/posts');\r\n            window.location.reload()\r\n        console.log(data)\r\n    };\r\n    \r\n    \r\n    return (\r\n        <>\r\n            <h2>Edit Post</h2>\r\n            <form onSubmit={handleSubmit}>\r\n                <div id =\"TextField\">\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Title\"\r\n                    value={title}\r\n                    onChange={(event) => setTitle(event.target.value)}\r\n                ></input>\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Description\"\r\n                    value={description}\r\n                    onChange={(event) => setDescription(event.target.value)}\r\n                ></input>\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Price\"\r\n                    value={price}\r\n                    onChange={(event) => setPrice(event.target.value)}\r\n                ></input>\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Location\"\r\n                    value={location}\r\n                    onChange={(event) => setLocation(event.target.value)}\r\n                ></input>\r\n                <input\r\n                    type=\"checkbox\"\r\n                    value={willDeliver}\r\n                    onChange={(event) => setWillDeliver(event.target.value)}\r\n                ></input>\r\n                </div>\r\n                <button type=\"submit\">Sumbit Edit</button>\r\n            </form>\r\n            <button>\r\n                <Link to=\"/\">Home</Link>\r\n            </button>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default EditPost;","import React, { useEffect, useState } from 'react';\r\nimport { Link, Route } from 'react-router-dom';\r\nimport { callApi } from '../api';\r\nimport { Register } from './';\r\nimport Post from './Post';\r\nimport Posts from './Posts';\r\nimport CreatePost from './CreatePost';\r\nimport EditPost from './EditPost';\r\nimport MessageForm from './MessageForm';\r\n\r\n/*\r\nRoutes:\r\n/ - home\r\n/register - register\r\n/login - login\r\n/posts - all posts\r\n    /posts/{id} - single post \r\nPlan:\r\n- fetch all posts\r\n- set up route for displaying all posts\r\n- write a component to display posts\r\n- set up route for displaying a single post\r\n*/\r\n\r\nconst fetchUserData = async (token) => {\r\n    const { data } = await callApi({\r\n        url: '/users/me',\r\n        token,\r\n    });\r\n\r\n    return data;\r\n};\r\n\r\nconst fetchPosts = async (token) => {\r\n    const {\r\n        data: { posts },\r\n    } = await callApi({\r\n        url: '/posts',\r\n        token,\r\n    });\r\n\r\n    return posts;\r\n};\r\n\r\nconst App = () => {\r\n    const [token, setToken] = useState('');\r\n    const [userData, setUserData] = useState({});\r\n    const [posts, setPosts] = useState([]);\r\n\r\n    const isLoggedIn = userData.username !== undefined;\r\n\r\n    const onLogOutClick = () => {\r\n        localStorage.removeItem('st-token');\r\n        setToken('');\r\n        setUserData({});\r\n    };\r\n\r\n    useEffect(async () => {\r\n        if (posts.length === 0) {\r\n            const fetchedPosts = await fetchPosts(token);\r\n            setPosts(fetchedPosts);\r\n        }\r\n    });\r\n\r\n    useEffect(async () => {\r\n        if (!token) {\r\n            setToken(localStorage.getItem('st-token'));\r\n            return;\r\n        }\r\n        const data = await fetchUserData(token);\r\n        setUserData(data);\r\n    }, [token]);\r\n    console.log(\"userData\", userData)\r\n    console.log(\"isLoggedIn\", isLoggedIn)\r\n\r\n\r\n    return (\r\n        <>\r\n        {!isLoggedIn ?\r\n            <h1>Welcome! <br></br>Please <a href= \"/login\"> sign in</a> or <a href=\"/register\">create an account</a>.</h1>\r\n            : \"\"}\r\n            <Route exact path=\"/\">\r\n                {isLoggedIn ? (\r\n                    <>\r\n                        <div id =\"Greeting\">Hello, {userData.username}</div>\r\n                        <button onClick={onLogOutClick}>Log Out</button>\r\n                        <button>\r\n                    <Link to=\"/CreatePost\">Create A New Post</Link>\r\n                        </button>\r\n                    </>\r\n                ) : (\r\n                    <>\r\n                        <button>\r\n                            <Link to=\"/register\">Register</Link>\r\n                        </button>\r\n                        <button>\r\n                            <Link to=\"/login\">Login</Link>\r\n                        </button>\r\n                    </>\r\n                )}\r\n                <button>\r\n                    <Link to=\"/posts\">View All Posts</Link>\r\n                </button>\r\n\r\n                \r\n\r\n                {isLoggedIn \r\n                ?\r\n                    <>\r\n                    <h1>My Messages</h1>\r\n                    {userData.messages.map ((message) => {\r\n                        return (\r\n                        message.fromUser._id === userData._id\r\n                        ?    \r\n                        <div key= {message._id}>\r\n                            <div>Sender: {message.fromUser.username} </div>\r\n                            <div>Message: {message.content}</div>\r\n                        </div>\r\n                        :\r\n                        null\r\n                    )})\r\n                        }   \r\n                        </> \r\n                : \r\n                null\r\n                }\r\n                \r\n                \r\n                {isLoggedIn ?\r\n                <>\r\n                <h1>My Posts</h1>\r\n                    {userData.posts.map ((post) => {\r\n                        return (    \r\n                        <Post post = {post}  token = {token} posts={posts}\r\n                         />\r\n                        \r\n                        )\r\n                })\r\n                }   \r\n                </> : null\r\n                }\r\n\r\n                {/* {isLoggedIn ?\r\n                <>\r\n                <h1>My Messages</h1>\r\n                    {userData.messages.map ((message) => {\r\n                        message.fromUser._id === userData._id\r\n                        ?    \r\n                            <div key= {message._id}>\r\n                            <div>Sender: {message.fromUser.username} </div>\r\n                            <div>Message: {message.content}</div>\r\n                        </div>\r\n                        :\r\n                        null\r\n                        })\r\n                }   \r\n                </> : null\r\n                } */}\r\n\r\n\r\n            </Route>\r\n            <Route exact path=\"/posts\">\r\n            <button> <Link to=\"/\">Home</Link></button>\r\n            <button> <Link to=\"/CreatePost\">Create New Post</Link></button>\r\n            {isLoggedIn ? <button onClick={onLogOutClick}>Log Out</button> :null}\r\n            <h1>Below are all recent posts</h1>\r\n                <Posts posts={posts} token={token} />\r\n            </Route>\r\n            <Route path=\"/posts/:postId\">\r\n                <Post posts={posts} />\r\n            </Route>\r\n            <Route path=\"/register\">\r\n                <Register action=\"register\" setToken={setToken} />\r\n            </Route>\r\n            <Route path=\"/login\">\r\n                <Register action=\"login\" setToken={setToken} />\r\n            </Route>\r\n            <Route path=\"/CreatePost\">\r\n                <CreatePost action=\"post\" token={token} />\r\n            </Route>\r\n            <Route path=\"/EditPost/:postId\">\r\n                <EditPost posts={posts} token={token} />\r\n            </Route>\r\n        </>\r\n    );\r\n};\r\n\r\n\r\nexport default App\r\n","import React, { useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { callApi } from '../api';\r\n\r\nconst Register = ({ setToken, action }) => {\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const isLogin = action === 'login';\r\n    const title = isLogin ? 'Login' : 'Register';\r\n    const oppositeAction = isLogin ? 'register' : 'login';\r\n    const oppositeTitle = isLogin ? 'Register' : 'Login';\r\n    const history = useHistory();\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n\r\n        const data = await callApi({\r\n            url: `users/${action}`,\r\n            body: { user: { username, password } },\r\n            method: 'POST',\r\n        });\r\n\r\n\r\n        let token\r\n\r\n        try { \r\n           token = data.data.token\r\n           if (token) {\r\n               localStorage.setItem( 'st-token', token );\r\n               setToken(token);\r\n               history.push('/');\r\n               return token\r\n           } \r\n       } catch (error) {\r\n           window.alert(\"Wrong Username or Password!\")\r\n       }\r\n   \r\n        \r\n    };\r\n\r\n\r\n    return (\r\n        <>\r\n            <h2>{title}</h2>\r\n            <form onSubmit={handleSubmit}>\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"username\"\r\n                    required\r\n                    value={username}\r\n                    onChange={(event) => setUsername(event.target.value)}\r\n                ></input>\r\n                <div id =\"TextField\">\r\n                <input\r\n                    type=\"password\"\r\n                    placeholder=\"password\"\r\n                    value={password}\r\n                    onChange={(event) => setPassword(event.target.value)}\r\n                ></input>\r\n                <button type=\"submit\">{title}</button>\r\n                </div>\r\n            </form>\r\n            <button>\r\n                <Link to={`/${oppositeAction}`}>{oppositeTitle}</Link>\r\n            </button>\r\n            <button>\r\n                <Link to=\"/\">Home</Link>\r\n            </button>\r\n            \r\n        </>\r\n    );\r\n};\r\n\r\n\r\nexport default Register;","import React, { useState } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport { App } from './components';\r\n\r\n ReactDOM.render(\r\n   <Router>\r\n      <App />   \r\n   </ Router>,\r\n  document.querySelector(\"#app\")\r\n)\r\n"]}}