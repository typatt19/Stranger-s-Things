{"ast":null,"code":"export const BASE_URL = 'https://strangers-things.herokuapp.com/api/';\nexport const COHORT = '2104-ECE-RM-WEB-PT/';\nexport const API_URL = BASE_URL + COHORT;\nexport const callApi = async ({\n  url,\n  method,\n  token,\n  body\n}) => {\n  console.log('callApi:', {\n    url,\n    method,\n    token,\n    body\n  });\n\n  try {\n    const options = {\n      method: method ? method.toUpperCase() : 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(body)\n    };\n    console.log(\"api index token :\", token);\n\n    if (token) {\n      options.headers['Authorization'] = `Bearer ${token}`;\n    }\n\n    console.log('request URL:', API_URL + url);\n    const response = await fetch(API_URL + url, options);\n    const data = await response.json();\n    console.log('API Index.js data:', data);\n\n    if (data.error) {\n      throw data.error;\n    }\n\n    return data;\n  } catch (error) {\n    console.error('Error:', error);\n  }\n};","map":{"version":3,"sources":["C:/Projects/StrangersThings/src/api/index.js"],"names":["BASE_URL","COHORT","API_URL","callApi","url","method","token","body","console","log","options","toUpperCase","headers","JSON","stringify","response","fetch","data","json","error"],"mappings":"AAAA,OAAO,MAAMA,QAAQ,GAAG,6CAAjB;AACP,OAAO,MAAMC,MAAM,GAAG,qBAAf;AACP,OAAO,MAAMC,OAAO,GAAGF,QAAQ,GAAGC,MAA3B;AAEP,OAAO,MAAME,OAAO,GAAG,OAAO;AAAEC,EAAAA,GAAF;AAAOC,EAAAA,MAAP;AAAeC,EAAAA,KAAf;AAAsBC,EAAAA;AAAtB,CAAP,KAAuC;AAC1DC,EAAAA,OAAO,CAACC,GAAR,CAAa,UAAb,EAAyB;AAAEL,IAAAA,GAAF;AAAOC,IAAAA,MAAP;AAAeC,IAAAA,KAAf;AAAsBC,IAAAA;AAAtB,GAAzB;;AAEA,MAAI;AACA,UAAMG,OAAO,GAAG;AACZL,MAAAA,MAAM,EAAEA,MAAM,GAAGA,MAAM,CAACM,WAAP,EAAH,GAA0B,KAD5B;AAEZC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAFG;AAKZL,MAAAA,IAAI,EAAEM,IAAI,CAACC,SAAL,CAAeP,IAAf;AALM,KAAhB;AAOAC,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCH,KAAjC;;AACA,QAAIA,KAAJ,EAAU;AACNI,MAAAA,OAAO,CAACE,OAAR,CAAgB,eAAhB,IAAoC,UAASN,KAAM,EAAnD;AACH;;AACDE,IAAAA,OAAO,CAACC,GAAR,CAAa,cAAb,EAA6BP,OAAO,GAAGE,GAAvC;AACA,UAAMW,QAAQ,GAAG,MAAMC,KAAK,CAACd,OAAO,GAAGE,GAAX,EAAgBM,OAAhB,CAA5B;AACA,UAAMO,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;AACAV,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCQ,IAAlC;;AAEA,QAAIA,IAAI,CAACE,KAAT,EAAe;AACX,YAAMF,IAAI,CAACE,KAAX;AACH;;AACD,WAAOF,IAAP;AACH,GArBD,CAqBE,OAAOE,KAAP,EAAa;AACXX,IAAAA,OAAO,CAACW,KAAR,CAAc,QAAd,EAAwBA,KAAxB;AACH;AACJ,CA3BM","sourcesContent":["export const BASE_URL = 'https://strangers-things.herokuapp.com/api/'\r\nexport const COHORT = '2104-ECE-RM-WEB-PT/';\r\nexport const API_URL = BASE_URL + COHORT;\r\n\r\nexport const callApi = async ({ url, method, token, body}) => {\r\n    console.log ('callApi:', { url, method, token, body})\r\n\r\n    try {\r\n        const options = {\r\n            method: method ? method.toUpperCase() : 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(body),\r\n        };\r\n        console.log(\"api index token :\", token)\r\n        if (token){\r\n            options.headers['Authorization'] = `Bearer ${token}`;\r\n        }\r\n        console.log ('request URL:', API_URL + url);\r\n        const response = await fetch(API_URL + url, options);\r\n        const data = await response.json();\r\n        console.log('API Index.js data:', data);\r\n\r\n        if (data.error){\r\n            throw data.error;\r\n        }\r\n        return data;\r\n    } catch (error){\r\n        console.error('Error:', error)\r\n    }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}