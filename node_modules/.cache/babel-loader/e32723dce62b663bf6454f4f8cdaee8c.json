{"ast":null,"code":"import _regeneratorRuntime from\"C:/Projects/StrangersThings/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Projects/StrangersThings/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";export var BASE_URL='https://strangers-things.herokuapp.com/api/';export var COHORT_NAME='2104-ECE-RM-WEB-PT/';export var API_URL=BASE_URL+COHORT_NAME;export var callApi=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref){var url,method,token,body,options,response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=_ref.url,method=_ref.method,token=_ref.token,body=_ref.body;console.log('callApi: ',{url:url,method:method,token:token,body:body});_context.prev=2;options={method:method?method.toUpperCase():'GET',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)};if(token){options.headers['Authorization']=\"Bearer \".concat(token);}console.log('request URL: ',API_URL+url);_context.next=8;return fetch(API_URL+url,options);case 8:response=_context.sent;console.log(response);_context.next=12;return response.json();case 12:data=_context.sent;console.log('data: ',data);if(!data.error){_context.next=16;break;}throw data.error;case 16:return _context.abrupt(\"return\",data);case 19:_context.prev=19;_context.t0=_context[\"catch\"](2);console.error('ERROR: ',_context.t0);case 22:case\"end\":return _context.stop();}}},_callee,null,[[2,19]]);}));return function callApi(_x){return _ref2.apply(this,arguments);};}();","map":{"version":3,"sources":["C:/Projects/StrangersThings/src/api/index.js"],"names":["BASE_URL","COHORT_NAME","API_URL","callApi","url","method","token","body","console","log","options","toUpperCase","headers","JSON","stringify","fetch","response","json","data","error"],"mappings":"iSAAA,MAAO,IAAMA,CAAAA,QAAQ,CAAG,6CAAjB,CACP,MAAO,IAAMC,CAAAA,WAAW,CAAG,qBAApB,CACP,MAAO,IAAMC,CAAAA,OAAO,CAAGF,QAAQ,CAAGC,WAA3B,CAEP,MAAO,IAAME,CAAAA,OAAO,2FAAG,uLAASC,GAAT,MAASA,GAAT,CAAcC,MAAd,MAAcA,MAAd,CAAsBC,KAAtB,MAAsBA,KAAtB,CAA6BC,IAA7B,MAA6BA,IAA7B,CACnBC,OAAO,CAACC,GAAR,CAAY,WAAZ,CAAyB,CAAEL,GAAG,CAAHA,GAAF,CAAOC,MAAM,CAANA,MAAP,CAAeC,KAAK,CAALA,KAAf,CAAsBC,IAAI,CAAJA,IAAtB,CAAzB,EADmB,gBAITG,OAJS,CAIC,CACZL,MAAM,CAAEA,MAAM,CAAGA,MAAM,CAACM,WAAP,EAAH,CAA0B,KAD5B,CAEZC,OAAO,CAAE,CACL,eAAgB,kBADX,CAFG,CAKZL,IAAI,CAAEM,IAAI,CAACC,SAAL,CAAeP,IAAf,CALM,CAJD,CAYf,GAAID,KAAJ,CAAW,CACPI,OAAO,CAACE,OAAR,CAAgB,eAAhB,mBAA6CN,KAA7C,EACH,CAEDE,OAAO,CAACC,GAAR,CAAY,eAAZ,CAA6BP,OAAO,CAAGE,GAAvC,EAhBe,sBAiBQW,CAAAA,KAAK,CAACb,OAAO,CAAGE,GAAX,CAAgBM,OAAhB,CAjBb,QAiBTM,QAjBS,eAkBfR,OAAO,CAACC,GAAR,CAAYO,QAAZ,EAlBe,uBAmBIA,CAAAA,QAAQ,CAACC,IAAT,EAnBJ,SAmBTC,IAnBS,eAoBfV,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAsBS,IAAtB,EApBe,IAsBXA,IAAI,CAACC,KAtBM,+BAuBLD,CAAAA,IAAI,CAACC,KAvBA,yCA0BRD,IA1BQ,4DA4BfV,OAAO,CAACW,KAAR,CAAc,SAAd,cA5Be,qEAAH,kBAAPhB,CAAAA,OAAO,6CAAb","sourcesContent":["export const BASE_URL = 'https://strangers-things.herokuapp.com/api/';\r\nexport const COHORT_NAME = '2104-ECE-RM-WEB-PT/';\r\nexport const API_URL = BASE_URL + COHORT_NAME;\r\n\r\nexport const callApi = async ({ url, method, token, body }) => {\r\n    console.log('callApi: ', { url, method, token, body });\r\n\r\n    try {\r\n        const options = {\r\n            method: method ? method.toUpperCase() : 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify(body),\r\n        };\r\n\r\n        if (token) {\r\n            options.headers['Authorization'] = `Bearer ${token}`;\r\n        }\r\n\r\n        console.log('request URL: ', API_URL + url);\r\n        const response = await fetch(API_URL + url, options);\r\n        console.log(response)\r\n        const data = await response.json();\r\n        console.log('data: ', data);\r\n\r\n        if (data.error) {\r\n            throw data.error;\r\n        }\r\n\r\n        return data;\r\n    } catch (error) {\r\n        console.error('ERROR: ', error);\r\n    }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}